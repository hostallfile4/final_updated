{% extends "base_layout.html" %}

{% block page_title %}Cursor AI Integration Guide{% endblock %}

{% block content %}
<div class="content-card fade-in">
    <div class="content-header">
        <div>
            <h2 class="content-title">Cursor AI Integration Guide</h2>
            <p class="content-subtitle">Learn how to supercharge your Cursor editor with our AI agents</p>
        </div>
    </div>

    <!-- Quick Navigation -->
    <div class="quick-nav mb-4">
        <div class="nav nav-pills" id="docs-tab" role="tablist">
            <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#setup" type="button" role="tab"
                aria-controls="setup" aria-selected="true">Setup Guide</button>
            <button class="nav-link" data-bs-toggle="tab" data-bs-target="#features" type="button" role="tab"
                aria-controls="features" aria-selected="false">Features</button>
            <button class="nav-link" data-bs-toggle="tab" data-bs-target="#examples" type="button" role="tab"
                aria-controls="examples" aria-selected="false">Code Examples</button>
            <button class="nav-link" data-bs-toggle="tab" data-bs-target="#practices" type="button" role="tab"
                aria-controls="practices" aria-selected="false">Best Practices</button>
        </div>
    </div>

    <!-- Content -->
    <div class="tab-content" id="docs-content" role="tabpanel">
        <!-- Setup Guide -->
        <div class="tab-pane fade show active" id="setup">
            <div class="setup-section">
                <h3>Installation & Setup</h3>

                <div class="step-list">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Install Cursor Editor</h4>
                            <p>Download and install Cursor from the official website:</p>
                            <div class="code-block">
                                <a href="https://cursor.sh" target="_blank" rel="noopener noreferrer"
                                    class="btn btn-primary">
                                    <i class="fas fa-download"></i> Download Cursor
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Install Our Extension</h4>
                            <p>Install the ZombieCoder extension in Cursor:</p>
                            <ol>
                                <li>Open Cursor</li>
                                <li>Press Ctrl+Shift+P (Cmd+Shift+P on Mac)</li>
                                <li>Type "Install Extension"</li>
                                <li>Search for "ZombieCoder AI Assistant"</li>
                                <li>Click Install</li>
                            </ol>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Configure API Settings</h4>
                            <p>Set up your API connection:</p>
                            <div class="code-block">
                                <pre><code>{
  "zombieCoder.apiEndpoint": "http://your-server:port",
  "zombieCoder.timeout": 30000,
  "zombieCoder.defaultLanguage": "en"
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Features -->
        <div class="tab-pane fade" id="features">
            <div class="features-section">
                <h3>Key Features</h3>

                <div class="row">
                    <div class="col-md-6 mb-4">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-brain"></i>
                            </div>
                            <h4>Smart Code Completion</h4>
                            <p>Context-aware code suggestions powered by our AI agents.</p>
                            <div class="feature-detail">
                                <h5>How to Use:</h5>
                                <ul>
                                    <li>Type normally - suggestions appear automatically</li>
                                    <li>Press Ctrl+Space for manual trigger</li>
                                    <li>Tab to accept suggestions</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 mb-4">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-comments-alt"></i>
                            </div>
                            <h4>AI Chat Panel</h4>
                            <p>Interactive chat with specialized AI agents for different tasks.</p>
                            <div class="feature-detail">
                                <h5>Available Commands:</h5>
                                <ul>
                                    <li>/help - List all commands</li>
                                    <li>/explain - Explain selected code</li>
                                    <li>/optimize - Suggest optimizations</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 mb-4">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-wand-magic-sparkles"></i>
                            </div>
                            <h4>Code Generation</h4>
                            <p>Generate entire functions, classes, or modules with AI.</p>
                            <div class="feature-detail">
                                <h5>Generation Options:</h5>
                                <ul>
                                    <li>Right-click > Generate Code</li>
                                    <li>Command Palette > Generate</li>
                                    <li>Type // generate and press Enter</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 mb-4">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-code-branch"></i>
                            </div>
                            <h4>Refactoring Assistant</h4>
                            <p>AI-powered code refactoring and improvement suggestions.</p>
                            <div class="feature-detail">
                                <h5>Refactoring Tools:</h5>
                                <ul>
                                    <li>Extract method/variable</li>
                                    <li>Improve readability</li>
                                    <li>Optimize performance</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Code Examples -->
        <div class="tab-pane fade" id="examples">
            <div class="examples-section">
                <h3>Code Examples</h3>

                <div class="example-card mb-4">
                    <h4>1. Code Generation</h4>
                    <p>Generate a REST API endpoint:</p>
                    <div class="code-block">
                        <pre><code>// generate rest api endpoint for user authentication
@app.route('/api/auth', methods=['POST'])
def authenticate_user():
    data = request.json
    username = data.get('username')
    password = data.get('password')
    
    if not username or not password:
        return jsonify({'error': 'Missing credentials'}), 400
        
    user = User.query.filter_by(username=username).first()
    if not user or not user.check_password(password):
        return jsonify({'error': 'Invalid credentials'}), 401
        
    token = create_access_token(identity=username)
    return jsonify({'token': token}), 200</code></pre>
                    </div>
                </div>

                <div class="example-card mb-4">
                    <h4>2. Code Explanation</h4>
                    <p>Get explanation for complex code:</p>
                    <div class="code-block">
                        <pre><code># Select code and type:
/explain

# AI will explain the code's purpose, logic, and potential improvements</code></pre>
                    </div>
                </div>

                <div class="example-card mb-4">
                    <h4>3. Refactoring</h4>
                    <p>Improve code quality:</p>
                    <div class="code-block">
                        <pre><code># Before
def process_data(data):
    result = []
    for i in range(len(data)):
        if data[i] > 0:
            result.append(data[i] * 2)
    return result

# After using AI refactoring
def process_data(data):
    return [x * 2 for x in data if x > 0]</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Best Practices -->
        <div class="tab-pane fade" id="practices">
            <div class="practices-section">
                <h3>Best Practices</h3>

                <div class="practice-card mb-4">
                    <h4>1. Writing Effective Prompts</h4>
                    <ul>
                        <li>Be specific about your requirements</li>
                        <li>Include context and constraints</li>
                        <li>Specify the desired output format</li>
                        <li>Use code comments for inline generation</li>
                    </ul>
                </div>

                <div class="practice-card mb-4">
                    <h4>2. Code Generation Tips</h4>
                    <ul>
                        <li>Start with a clear function signature</li>
                        <li>Include example inputs/outputs</li>
                        <li>Specify error handling requirements</li>
                        <li>Mention performance constraints</li>
                    </ul>
                </div>

                <div class="practice-card mb-4">
                    <h4>3. Workflow Integration</h4>
                    <ul>
                        <li>Use keyboard shortcuts for efficiency</li>
                        <li>Leverage the AI chat panel for complex queries</li>
                        <li>Review and test generated code</li>
                        <li>Save commonly used prompts as snippets</li>
                    </ul>
                </div>

                <div class="practice-card mb-4">
                    <h4>4. Performance Optimization</h4>
                    <ul>
                        <li>Cache frequently used responses</li>
                        <li>Use appropriate timeout settings</li>
                        <li>Batch similar requests together</li>
                        <li>Monitor API usage and limits</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .quick-nav {
        background: #fff;
        border-radius: 12px;
        padding: 15px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .nav-pills .nav-link {
        margin-right: 10px;
    }

    .nav-pills .nav-link.active {
        background-color: #007bff;
    }

    .step-list {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .step {
        display: flex;
        gap: 20px;
        background: #fff;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .step-number {
        width: 40px;
        height: 40px;
        background: #007bff;
        color: #fff;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        font-weight: bold;
    }

    .feature-card {
        background: #fff;
        border-radius: 12px;
        padding: 20px;
        height: 100%;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .feature-icon {
        font-size: 2rem;
        color: #007bff;
        margin-bottom: 15px;
        text-align: center;
    }

    .feature-detail {
        margin-top: 15px;
        padding-top: 15px;
        border-top: 1px solid #eee;
    }

    .code-block {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 6px;
        margin: 10px 0;
    }

    .code-block pre {
        margin: 0;
    }

    .example-card,
    .practice-card {
        background: #fff;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .example-card h4,
    .practice-card h4 {
        color: #0056b3;
        margin-bottom: 15px;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Initialize tooltips
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
        });

        // Handle tab navigation
        var triggerTabList = [].slice.call(document.querySelectorAll('#docs-tab button'))
        triggerTabList.forEach(function (triggerEl) {
            var tabTrigger = new bootstrap.Tab(triggerEl)
            triggerEl.addEventListener('click', function (event) {
                event.preventDefault()
                tabTrigger.show()
            })
        });

        // Copy code blocks
        document.querySelectorAll('.code-block pre').forEach(block => {
            const button = document.createElement('button');
            button.className = 'btn btn-sm btn-outline-primary copy-btn';
            button.innerHTML = '<i class="fas fa-copy"></i>';
            button.style.position = 'absolute';
            button.style.right = '10px';
            button.style.top = '10px';

            block.style.position = 'relative';
            block.appendChild(button);

            button.addEventListener('click', async () => {
                const code = block.querySelector('code').innerText;
                await navigator.clipboard.writeText(code);

                button.innerHTML = '<i class="fas fa-check"></i>';
                setTimeout(() => {
                    button.innerHTML = '<i class="fas fa-copy"></i>';
                }, 2000);
            });
        });
    });
</script>
{% endblock %}